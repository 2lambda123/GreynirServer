
{% extends "container.html" %}

{% block styles %}

<link href="{{ url_for('static', filename='main.css') }}" rel='stylesheet' type='text/css'>

{% endblock %}

{% block scripts %}

{% endblock %}

{% block content %}

<div class="text-container">

   <div class="input">

      <p class="header"><a href="{{ url_for('main') }}">Greynir</a></p>

      <p class="author">málgreinir fyrir íslensku<br>eftir Vilhjálm Þorsteinsson</p>

      <p class="stats">Nota málfræðiskrá {{ grammar.file_name }} frá {{ "%0.19s" | format(grammar.file_time) }}</p>
      <p class="stats">{{ grammar.num_nonterminals }} nonterminals, {{ grammar.num_terminals }} terminals,
      {{ grammar.num_productions }} productions</p>

      <p>Sláðu inn texta eða vefslóð til að greina, eða <a href="{{ url_for('test') }}">smelltu hér til keyra próf</a>:</p>

      <input type="text" name="url" id="url" tabindex="1"
         maxlength=512 autofocus required class="text" value="{{ default_text }}"
         onClick="this.setSelectionRange(0, this.value.length)"></input>

      <div class="btn" id="url-ok" title="Greina" tabindex="2"
         onclick="analyzeUrl()"
         onmouseover="buttonOver(this)"
         onmouseout="buttonOut(this)">Greina</div>

   </div>

   <div class="output">

      <!-- Popup with info about the word being hovered over -->
      <div class="info"></div>

      <p class="tok-info">Textinn inniheldur <span id="tok-num"></span> eindir í
         <span id="num-sent"></span> málsgreinum.
         Eindagreining tók <span id="tok-time"></span> sekúndur en
         málfræðigreining <span id="parse-time"></span> sekúndur.
         Það tókst að greina <span id="num-parsed-sent"></span> málsgreinar eða
         <span id="num-parsed-ratio"></span>%. Margræðnistuðull var
         <span id="avg-ambig-factor"></span>.</p>

      <div id="metadata">
      <!-- Article metadata goes here, if any -->
         <p id="meta-heading"></p>
         <p id="meta-author"></p>
         <p id="meta-timestamp"></p>
         <p id="meta-authority"></p>
      </div>

      <div id="result">
      <!-- Result of analysis goes here -->
      </div>

      <!-- Spinner that appears while the analysis is in progress -->
      <div id="wait"></div>

   </div>

</div>

{% endblock %}

{% block endscripts %}

<script src="{{ url_for('static', filename='main.js') }}"></script>

<script>

   function initMain(jQuery) {
      // Initialization
      $("#url").keydown(function(ev) {
         if (ev.which == 13) {
            analyzeUrl();
            ev.preventDefault();
         }
      });
   }

   $(document).ready(initMain);

</script>

{% endblock %}

